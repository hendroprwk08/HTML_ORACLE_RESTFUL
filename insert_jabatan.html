<!DOCTYPE html>
<html>
    <head>
        <title>ORACLE APEX RESTFUL</title>   
        <script src="jquery-3.4.0.js"></script> 
    </head>
    <body>
        <p><a href="index.html">LIST DATA JABATAN</a></p>
        ID Jabatan: <input type="text" id="id"/><br/>
        Jabatan: <input type="text" id="jabatan"/><br/>
        Gaji Pokok: <input type="text" id="gapok"/><br/>
        Tunjangan Anak: <input type="text" id="tanak"/><br/>
        Tunjangan Dinas: <input type="text" id="tdinas"/><br/>
        Tunjangan Kesehatan: <input type="text" id="tkesehatan"/><br/>
        <button id="simpan">SIMPAN</button><img src="loader.gif" id="loader">

        <script type="text/javascript">
            $(function (){
                var base_url = "https://apex.oracle.com/pls/apex/belajar_apex_10_11_2019/hrd_api/";
                $("#loader").hide();

                $("#simpan").click(function(){
                    
                    $.ajax({
                        type: 'POST',
                        url: base_url + "postjabatan", 
                        contentType: 'application/json', //wajib pake ini
                        data: JSON.stringify({"idjabatan": $("#id").val(), "jabatan": $("#jabatan").val(), "gapok": $("#gapok").val(), "tanak": $("#tanak").val(), "tdinas": $("#tdinas").val(), "tkesehatan": $("#tkesehatan").val() }),
                        beforeSend:function(){
                            $("#loader").show();
                        },
                        success: function(result){ 
                            alert("Data "+ $("#id").val() +" - "+ $("#jabatan").val() +" berhasil disimpan");
                            $("#loader").fadeOut();
                        },
                        error: function(data, xhr, textStatus, errorThrown){
                            alert(xhr.status);
                            $("#loader").fadeOut();
                        }
                    });             
                });
            });
        </script>
    </body>
</html>